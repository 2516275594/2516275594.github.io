<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JSONP Example</title>
</head>
<body>
  <input type="text" id="inputText" placeholder="Enter text...">
  <button onclick="callApi()">Fetch Data</button>
  <div id="output"></div>

  <script>
    function callApi() {
      const inputText = document.getElementById('inputText').value;
      const callbackName = 'handleResponse'; // 定义回调函数名
      const apiUrl = `https://api.zxz.ee/api/ysss/?name={encodeURIComponent(inputText)}&callback={callbackName}`;

      // 动态创建 script 标签
      const script = document.createElement('script');
      script.src = apiUrl;

      // 将 script 标签添加到页面中
      document.body.appendChild(script);
    }

    function handleResponse(data) {
      displayData(data);
    }

    function displayData(data) {
      const outputDiv = document.getElementById('output');
      outputDiv.innerHTML = JSON.stringify(data);
    }
  </script>
</body>
</html>
